# OpenShift compatibility settings
openshift:
  enabled: false  # Set to true for OpenShift deployments
  securityContext:
    runAsUser: 1001
    runAsGroup: 1001
    fsGroup: 1001
  containerSecurityContext:
    runAsNonRoot: true
    allowPrivilegeEscalation: false

image:
  client:
    registry: docker.io
    repository: permitio/opal-client
  server:
    registry: docker.io
    repository: permitio/opal-server
  pgsql:
    registry: docker.io
    repository: postgres
    tag: alpine

server:
  port: 7002
  policyRepoUrl: "https://github.com/permitio/opal-example-policy-repo"
  policyRepoSshKey: null
  policyRepoClonePath: null
  policyRepoMainBranch: null
  pollingInterval: 30
  dataConfigSources:
    config:
      entries: []
  broadcastUri: null
  broadcastPgsql: true
  uvicornWorkers: 4
  replicas: 1
  extraEnv: {}
  # Optional: Override security contexts per component
  securityContext: {}
  containerSecurityContext: {}

client:
  port: 7000
  opaPort: 8181
  replicas: 1
  extraEnv: {}
  # Optional: Override security contexts per component
  securityContext: {}
  containerSecurityContext: {}

# PostgreSQL specific settings
postgresql:
  securityContext: {}
  containerSecurityContext: {}
  extraEnv: {}